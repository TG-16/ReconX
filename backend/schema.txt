CREATE DATABASE reconx;
USE reconx;

CREATE TABLE targets (
    id INT AUTO_INCREMENT PRIMARY KEY,
    query_name VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE search_results (
    id INT AUTO_INCREMENT PRIMARY KEY,
    target_id INT NOT NULL,
    source VARCHAR(50) DEFAULT 'google',
    title TEXT,
    url TEXT,
    snippet TEXT,
    rank_position INT,
    content_hash VARCHAR(64),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (target_id) REFERENCES targets(id) ON DELETE CASCADE
);
